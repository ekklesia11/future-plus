#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const future_plus_stack_1 = require("../lib/future-plus-stack");
const dotenv_1 = require("dotenv");
dotenv_1.config();
const app = new cdk.App();
const hostedZoneName = process.env.HOSTED_ZONE_NAME;
if (!hostedZoneName)
    throw Error('APP_NAME must be set in env');
const hasuraAdminSecret = process.env.HASURA_ADMIN_SECRET;
if (!hasuraAdminSecret)
    throw Error('APP_NAME must be set in env');
const hasuraHostname = process.env.HASURA_HOSTNAME;
if (!hasuraHostname)
    throw Error('APP_NAME must be set in env');
const apiHostname = process.env.API_HOSTNAME;
if (!apiHostname)
    throw Error('APP_NAME must be set in env');
const env = {
    account: process.env.CDK_DEFAULT_ACCOUNT,
    region: process.env.CDK_DEFAULT_REGION,
};
new future_plus_stack_1.FuturePlusStack(app, 'FuturePlusStack', {
    hostedZoneName,
    hasuraAdminSecret,
    hasuraHostname,
    apiHostname,
    env
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZnV0dXJlLXBsdXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJmdXR1cmUtcGx1cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFDQSx1Q0FBcUM7QUFDckMsbUNBQW1DO0FBQ25DLGdFQUEyRDtBQUMzRCxtQ0FBZ0M7QUFFaEMsZUFBTSxFQUFFLENBQUM7QUFFVCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUUxQixNQUFNLGNBQWMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixDQUFDO0FBQ3BELElBQUksQ0FBQyxjQUFjO0lBQUUsTUFBTSxLQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUVoRSxNQUFNLGlCQUFpQixHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUM7QUFDMUQsSUFBSSxDQUFDLGlCQUFpQjtJQUFFLE1BQU0sS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7QUFFbkUsTUFBTSxjQUFjLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLENBQUM7QUFDbkQsSUFBSSxDQUFDLGNBQWM7SUFBRSxNQUFNLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0FBRWhFLE1BQU0sV0FBVyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsWUFBWSxDQUFDO0FBQzdDLElBQUksQ0FBQyxXQUFXO0lBQUUsTUFBTSxLQUFLLENBQUMsNkJBQTZCLENBQUMsQ0FBQztBQUU3RCxNQUFNLEdBQUcsR0FBRztJQUNWLE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQjtJQUN4QyxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0I7Q0FDdkMsQ0FBQztBQUVGLElBQUksbUNBQWUsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLEVBQUU7SUFDMUMsY0FBYztJQUNkLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsV0FBVztJQUNYLEdBQUc7Q0FDSixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIjIS91c3IvYmluL2VudiBub2RlXG5pbXBvcnQgJ3NvdXJjZS1tYXAtc3VwcG9ydC9yZWdpc3Rlcic7XG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xuaW1wb3J0IHsgRnV0dXJlUGx1c1N0YWNrIH0gZnJvbSAnLi4vbGliL2Z1dHVyZS1wbHVzLXN0YWNrJztcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJ2RvdGVudic7XG5cbmNvbmZpZygpO1xuXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuXG5jb25zdCBob3N0ZWRab25lTmFtZSA9IHByb2Nlc3MuZW52LkhPU1RFRF9aT05FX05BTUU7XG5pZiAoIWhvc3RlZFpvbmVOYW1lKSB0aHJvdyBFcnJvcignQVBQX05BTUUgbXVzdCBiZSBzZXQgaW4gZW52Jyk7XG5cbmNvbnN0IGhhc3VyYUFkbWluU2VjcmV0ID0gcHJvY2Vzcy5lbnYuSEFTVVJBX0FETUlOX1NFQ1JFVDtcbmlmICghaGFzdXJhQWRtaW5TZWNyZXQpIHRocm93IEVycm9yKCdBUFBfTkFNRSBtdXN0IGJlIHNldCBpbiBlbnYnKTtcblxuY29uc3QgaGFzdXJhSG9zdG5hbWUgPSBwcm9jZXNzLmVudi5IQVNVUkFfSE9TVE5BTUU7XG5pZiAoIWhhc3VyYUhvc3RuYW1lKSB0aHJvdyBFcnJvcignQVBQX05BTUUgbXVzdCBiZSBzZXQgaW4gZW52Jyk7XG5cbmNvbnN0IGFwaUhvc3RuYW1lID0gcHJvY2Vzcy5lbnYuQVBJX0hPU1ROQU1FO1xuaWYgKCFhcGlIb3N0bmFtZSkgdGhyb3cgRXJyb3IoJ0FQUF9OQU1FIG11c3QgYmUgc2V0IGluIGVudicpO1xuXG5jb25zdCBlbnYgPSB7XG4gIGFjY291bnQ6IHByb2Nlc3MuZW52LkNES19ERUZBVUxUX0FDQ09VTlQsXG4gIHJlZ2lvbjogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfUkVHSU9OLFxufTtcblxubmV3IEZ1dHVyZVBsdXNTdGFjayhhcHAsICdGdXR1cmVQbHVzU3RhY2snLCB7XG4gIGhvc3RlZFpvbmVOYW1lLFxuICBoYXN1cmFBZG1pblNlY3JldCxcbiAgaGFzdXJhSG9zdG5hbWUsXG4gIGFwaUhvc3RuYW1lLFxuICBlbnZcbn0pOyJdfQ==